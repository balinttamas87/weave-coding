"use strict";!function(){function e(e){return!e.required||""!==e.value}function t(t,n){if(e(n))return t.test(n.value)}function n(e){return t(h.name,e)}function a(e){return t(h.email,e)}function r(e){return e.email.value===e.emailConfirm.value}function o(t){if(e(t.dobYear)&&e(t.dobMonth)&&e(t.dobDay))return moment(t.dobYear.value+"-"+t.dobMonth.value+"-"+t.dobDay.value,"YYYY-MM-DD").isValid()}function m(e,t){var n=!1;return Object.keys(t).forEach(function(a){t[a]||(n=!0,e[a].className+=" form-error")}),n}function i(e){var t={};return Object.keys(e).forEach(function(n){t[n]=e[n].value}),t}function s(e,t,n){e.className+=" success",e.innerHTML=t.success}var u=document.getElementById("first-name"),c=document.getElementById("last-name"),l=document.getElementById("dob-day"),d=document.getElementById("dob-month"),f=document.getElementById("dob-year"),b=document.getElementById("email"),y=document.getElementById("confirm-email"),v=document.getElementById("brochure-request-form"),E=document.getElementById("form-message"),N=document.getElementById("btn-submit"),g={firstName:u,lastName:c,dobDay:l,dobMonth:d,dobYear:f,email:b,emailConfirm:y},h={name:/^[a-zA-Z ]*$/,email:/[A-Z0-9._%+-]+@[A-Z0-9.-]+.[A-Z]{2,4}/gim},B={error:"Failed to submit request. Please try again later.",success:"Success! You should receive an email shortly."};Object.keys(g).forEach(function(e){g[e].addEventListener("keydown",function(t){g[e].className=this.className.replace(" form-error","")}),g[e].addEventListener("click",function(t){g[e].className=this.className.replace(" form-error","")})}),window.onload=function(){v.setAttribute("novalidate",!0),v.addEventListener("submit",function(e){e.preventDefault(),N.setAttribute("disabled",!0),E.innerHTML="",E.className=E.className.replace(" success","");var t=o(g),u={firstName:n(g.firstName),lastName:n(g.lastName),dobDay:t,dobMonth:t,dobYear:t,email:a(g.email),emailConfirm:r(g)},c=m(g,u);c||s(E,B,i(g)),N.setAttribute("disabled",!1)})}}();